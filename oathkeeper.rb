# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Oathkeeper < Formula
  desc "The Ory Identity and Access Proxy (Ory Oathkeeper)"
  homepage "https://www.ory.sh"
  version "0.40.7"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.7/oathkeeper_0.40.7-macOS_sqlite_arm64.tar.gz"
      sha256 "b05d7afc304cf8ecdd4e371be9d92b2c78abe53a4e49c4e876a1b2743a19fb7d"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.7/oathkeeper_0.40.7-macOS_sqlite_64bit.tar.gz"
      sha256 "7235bbb0d18c11028c465604b8f0110565c3da545f24d49f4ab61aebf24f47e5"

      def install
        bin.install "oathkeeper"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.7/oathkeeper_0.40.7-linux_sqlite_armv6.tar.gz"
      sha256 "7468422019807d87ad1f19ab82ab20de14657239f40d33dde9e31b907457961f"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.7/oathkeeper_0.40.7-linux_sqlite_arm64.tar.gz"
      sha256 "c999602a3660e813029ab0fca90187f68e9b9c773083ff1feebf5626531ed91b"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.7/oathkeeper_0.40.7-linux_sqlite_64bit.tar.gz"
      sha256 "a88787f234db5c8754fd63a26142441d72d0190ed63240054c8186d23bbe6fc8"

      def install
        bin.install "oathkeeper"
      end
    end
  end

  test do
    system "#{bin}/oathkeeper version"
  end
end
