# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Oathkeeper < Formula
  desc "The Ory Identity and Access Proxy (Ory Oathkeeper)"
  homepage "https://www.ory.sh"
  version "0.40.0"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.0/oathkeeper_0.40.0-macOS_sqlite_arm64.tar.gz"
      sha256 "97ce8f056fdf915ef5dd0929bf9f500d42b8eb58185dfb13c61fb2cca1fb4463"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.0/oathkeeper_0.40.0-macOS_sqlite_64bit.tar.gz"
      sha256 "b6123b27c2cbea83a7b80749452088330edf0a9e3a76b6be98db4692c07352ba"

      def install
        bin.install "oathkeeper"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.0/oathkeeper_0.40.0-linux_sqlite_64bit.tar.gz"
      sha256 "edcc9b1889855497e319fc726f03f412eea9f52c287f0a705e1ed2f80ed5a41b"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.0/oathkeeper_0.40.0-linux_sqlite_armv6.tar.gz"
      sha256 "95b1af63d2a379d69a507c19ae244d0a2a50762c86ab187e929e87d4feb0d0e2"

      def install
        bin.install "oathkeeper"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/ory/oathkeeper/releases/download/v0.40.0/oathkeeper_0.40.0-linux_sqlite_arm64.tar.gz"
      sha256 "1ba9f493e66fa3c242c6f2474191025940071ee2045bd3ed48acfe21556a558b"

      def install
        bin.install "oathkeeper"
      end
    end
  end

  test do
    system "#{bin}/oathkeeper version"
  end
end
